webpackJsonp([8],{256:function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function o(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?n:e}function a(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=t(0),l=t.n(c),u=t(20),d=t(545),s=t.n(d),p=t(34),f=t.n(p),m=t(548),h=t(82),g=t(549),x=t(84),b=t(550),v=t(87),w=t(86),y=t(88),E=t(432),j=t(431),k=t(5),O=function(){function n(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){i=!0,o=n}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),C=[{id:"github",text:"https://github.com/",icon:v.a,placeholder:"Github handle"},{id:"twitter",text:"https://twitter.com/",icon:w.a,placeholder:"Twitter handle"},{id:"medium",text:"https://medium.com/@",icon:y.a,placeholder:"Medium handle"}],S=function(n,e){var t=f.a.stringify(Object.assign({},e,{proc:"link"}));return k.h+"/auth/"+n+"/?"+t},P=[{img:E.a,link:function(n){return S("github",n)},provider:"github",name:"Github"},{img:j.a,link:function(n){return S("stackexchange",n)},provider:"stackexchange",name:"StackExchange"}],U=function(n){var e=n.src,t=n.onChange,r=n.uploading;return l.a.createElement(g.l,null,l.a.createElement(g.q,null,e&&e.length?l.a.createElement(g.m,{src:e}):l.a.createElement(x.a,{fill:"#777"})),l.a.createElement(g.c,null,l.a.createElement(g.e,{disabled:!!r&&"disabled"},r?"Uploading...":"Update"),l.a.createElement(g.f,{type:"file",onChange:t,accept:"image/*",disabled:!!r&&"disabled"})))},I=function(n){var e=n.name,t=n.Img,r=n.link,i=n.profile,o=(n.onClick,g.b.Card);return l.a.createElement(o,{href:r},l.a.createElement(o.Thumb,null,t&&l.a.createElement(t,{height:72}),l.a.createElement(g.p,null,e)),i&&i.name&&l.a.createElement(o.Content,null,l.a.createElement(o.Name,null,i.name),i.username&&l.a.createElement(g.p,null,"@",i.username),l.a.createElement(o.BragText,null,i.bragText)))},T=function(n){function e(n){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));A.call(t);var r=t.getUsername();return t.state={file:"",token:null,user:{username:r},avatarUploading:!1},t}return a(e,n),z(e,[{key:"componentDidMount",value:function(){var n=this;if(!this.state.user.username)return void this.props.history.push("/join");this.props.fetchProfile().then(function(){var e=n.props.user;n.setState({user:e})})}},{key:"render",value:function(){var n=this.state,e=n.user,t=n.avatarUploading;return l.a.createElement(g.t,null,l.a.createElement(g.d,{onChange:this.onFormChange,onSubmit:this.onFormSubmit},l.a.createElement(g.r,{size:26},"Profile"),l.a.createElement(g.n,{size:18},"About"),l.a.createElement(g.a,null,l.a.createElement(U,{onChange:this.onAvatarInputChange,src:e.avatarURL,uploading:t}),l.a.createElement(g.k,null,l.a.createElement(g.s,null,l.a.createElement(b.a,{height:20,width:20,fill:"#aaa"}),l.a.createElement(g.f,{placeholder:"Username",disabled:"disabled",value:e.username})),l.a.createElement(g.f,{name:"name",placeholder:"Name",value:e.name||""}),l.a.createElement(g.g,{name:"description",placeholder:"Write something about yourself here...",rows:4,value:e.description}))),l.a.createElement(g.n,{size:18},"Links"),l.a.createElement(g.j,null,C.map(function(n,t){var r="";return e.handles&&(r=e.handles[n.id]),l.a.createElement(g.h,{key:t},l.a.createElement(n.icon,{width:40,height:40}),l.a.createElement(g.i,null,n.text),l.a.createElement(g.f,{name:"handle."+n.id,placeholder:n.placeholder,value:r}))})),l.a.createElement(g.n,{size:18},"Connect"),l.a.createElement(g.b,null,P.map(function(n,t){return l.a.createElement(I,{key:t,Img:n.img,link:n.link({token:localStorage.getItem(k.j),newToken:!0,returnPath:"/profile"}),name:n.name,profile:e[n.provider]})})),l.a.createElement(g.o,{defaultValue:"Save",type:"submit"})))}}]),e}(l.a.Component),A=function(){var n=this;this.getUsername=function(){var n=localStorage.getItem(k.j),e="";return n&&(e=s()(n).username),e},this.onAvatarInputChange=function(e){e.preventDefault();var t=new FileReader,r=e.target.files[0];n.setState({avatarUploading:!0},function(){t.onloadend=function(){var e=Object.assign({},n.state.user,{avatarURL:t.result});n.setState({file:r,user:e})},t.readAsDataURL(r),n.props.uploadPhoto(r).then(function(){n.setState({avatarUploading:!1})})})},this.onFormChange=function(e){if(e.preventDefault(),e.target.name)if(e.target.name.startsWith("handle.")){var t=e.target.name.split("."),i=O(t,2),o=i[1];n.setState({user:Object.assign({},n.state.user,{handles:Object.assign({},n.state.user.handles,r({},o,e.target.value))})})}else n.setState({user:Object.assign({},n.state.user,r({},e.target.name,e.target.value))})},this.onFormSubmit=function(e){e.preventDefault();var t=n.state.user,r=Object(m.a)(t,"stackexchange","github","avatarURL");n.props.updateRemoteProfile(r).then(function(){}).catch(function(){})}},_=function(n){return{user:n.user}},R={fetchProfile:h.a,updateRemoteProfile:h.c,uploadPhoto:h.d};e.default=Object(u.b)(_,R)(T)},431:function(n,e,t){"use strict";var r=t(0),i=t.n(r),o=t(2),a=function(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}([""],[""]),c=o.b.svg(a),l=function(n){return i.a.createElement(c,Object.assign({},n,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 120 120"}),i.a.createElement("rect",{x:"22.4",y:"57.5",width:"74.8",height:"15.4",fill:"#376DB6"}),i.a.createElement("rect",{x:"22.4",y:"37.6",width:"74.8",height:"15.4",fill:"#4CA2DA"}),i.a.createElement("path",{d:"M85.5,17H34.4c-6.6,0-12,5.5-12,12.3v4h74.8v-4C97.2,22.5,92,17,85.5,17z",fill:"#91D8F4"}),i.a.createElement("path",{d:"M22.4,77.3v4c0,6.8,5.4,12.3,12,12.3h32v16.3l15.8-16.3h3.5c6.6,0,12-5.5,12-12.3v-4H22.4z",fill:"#1E5397"}))};e.a=l},432:function(n,e,t){"use strict";var r=t(0),i=t.n(r),o=t(2),a=t(433),c=t.n(a),l=function(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}([""],[""]),u=o.b.img(l),d=function(n){return i.a.createElement(u,Object.assign({src:c.a},n))};e.a=d},433:function(n,e,t){n.exports=t.p+"static/media/octocat.5d292e21.jpg"},545:function(n,e,t){"use strict";function r(n){this.message=n}var i=t(546);r.prototype=new Error,r.prototype.name="InvalidTokenError",n.exports=function(n,e){if("string"!==typeof n)throw new r("Invalid token specified");e=e||{};var t=!0===e.header?0:1;try{return JSON.parse(i(n.split(".")[t]))}catch(n){throw new r("Invalid token specified: "+n.message)}},n.exports.InvalidTokenError=r},546:function(n,e,t){function r(n){return decodeURIComponent(i(n).replace(/(.)/g,function(n,e){var t=e.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}var i=t(547);n.exports=function(n){var e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return r(e)}catch(n){return i(e)}}},547:function(n,e){function t(n){this.message=n}function r(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,c=0,l="";o=e.charAt(c++);~o&&(r=a%4?64*r+o:o,a++%4)?l+=String.fromCharCode(255&r>>(-2*a&6)):0)o=i.indexOf(o);return l}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",n.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||r},548:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.reduce(function(n,e){return n.hasOwnProperty(e)&&delete n[e],n},Object.assign({},n))}},549:function(n,e,t){"use strict";function r(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}t.d(e,"t",function(){return R}),t.d(e,"r",function(){return D}),t.d(e,"p",function(){return L}),t.d(e,"e",function(){return N}),t.d(e,"d",function(){return H}),t.d(e,"f",function(){return G}),t.d(e,"g",function(){return J}),t.d(e,"n",function(){return V}),t.d(e,"a",function(){return K}),t.d(e,"q",function(){return Q}),t.d(e,"l",function(){return X}),t.d(e,"m",function(){return Y}),t.d(e,"c",function(){return Z}),t.d(e,"k",function(){return $}),t.d(e,"s",function(){return nn}),t.d(e,"j",function(){return en}),t.d(e,"h",function(){return tn}),t.d(e,"i",function(){return rn}),t.d(e,"b",function(){return on}),t.d(e,"o",function(){return cn});var i=t(2),o=r(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  padding: 32px;\n  height: auto;\n  width: 70%;\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  padding: 32px;\n  height: auto;\n  width: 70%;\n"]),a=r(["\n  font-size: ","px;\n  margin: 16px 0;\n  color: #666;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n"],["\n  font-size: ","px;\n  margin: 16px 0;\n  color: #666;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n"]),c=r(["\n  font-size: 14px;\n  outline: none;\n  border: 1px solid #ccc;\n  padding: 16px;\n  border-radius: 4px;\n  margin-bottom: 4px;\n  &:active,\n  &:focus {\n    border-color: #3af;\n  }\n  ",";\n"],["\n  font-size: 14px;\n  outline: none;\n  border: 1px solid #ccc;\n  padding: 16px;\n  border-radius: 4px;\n  margin-bottom: 4px;\n  &:active,\n  &:focus {\n    border-color: #3af;\n  }\n  ",";\n"]),l=r(["\n  font-size: 14px;\n  outline: none;\n  border: 1px solid #ccc;\n  padding: 16px;\n  "," border-radius: 4px;\n  margin-bottom: 4px;\n  &:active,\n  &:focus {\n    border-color: #3af;\n  }\n  ",";\n"],["\n  font-size: 14px;\n  outline: none;\n  border: 1px solid #ccc;\n  padding: 16px;\n  "," border-radius: 4px;\n  margin-bottom: 4px;\n  &:active,\n  &:focus {\n    border-color: #3af;\n  }\n  ",";\n"]),u=r(["\n  font-size: 24px;\n  color: #444;\n  background: none;\n  border: 1px solid #ccc;\n  margin: 0 8px;\n  cursor: pointer;\n  outline: none;\n  height: 51px;\n  width: 100%;\n  border-radius: 4px;\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n  ",";\n"],["\n  font-size: 24px;\n  color: #444;\n  background: none;\n  border: 1px solid #ccc;\n  margin: 0 8px;\n  cursor: pointer;\n  outline: none;\n  height: 51px;\n  width: 100%;\n  border-radius: 4px;\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n  ",";\n"]),d=r(["\n  font-size: 12px;\n  color: #999;\n  min-height: 16px;\n"],["\n  font-size: 12px;\n  color: #999;\n  min-height: 16px;\n"]),s=r(["\n  line-height: 28px;\n  height: 30px;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  &:disabled {\n    background: #f4f4f4;\n  }\n"],["\n  line-height: 28px;\n  height: 30px;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  &:disabled {\n    background: #f4f4f4;\n  }\n"]),p=r(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]),f=r(["\n  display: flex;\n  flex-direction: column;\n  ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  ",";\n"]),m=r(["\n  height: 10px;\n  margin-bottom: 16px;\n  &::placeholder {\n    color: #999;\n  }\n  &:disabled {\n    background: #f4f4f4;\n  }\n"],["\n  height: 10px;\n  margin-bottom: 16px;\n  &::placeholder {\n    color: #999;\n  }\n  &:disabled {\n    background: #f4f4f4;\n  }\n"]),h=r(["\n  margin-bottom: 16px;\n  &::placeholder {\n    color: #999;\n  }\n"],["\n  margin-bottom: 16px;\n  &::placeholder {\n    color: #999;\n  }\n"]),g=r(["\n  display: flex;\n  width: 100%;\n"],["\n  display: flex;\n  width: 100%;\n"]),x=r(["\n  color: #999;\n"],["\n  color: #999;\n"]),b=r(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n"]),v=r(["\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  margin-bottom: 12px;\n"],["\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  margin-bottom: 12px;\n"]),w=r(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]),y=r(["\n  width: 120px;\n  height: 120px;\n  border-radius: 100%;\n"],["\n  width: 120px;\n  height: 120px;\n  border-radius: 100%;\n"]),E=r(["\n  position: relative;\n  overflow: hidden;\n  > ","[type=file] {\n    font-size: 100px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0;\n    cursor: pointer;\n    &:disabled {\n      cursor: wait;\n    }\n  }\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n"],["\n  position: relative;\n  overflow: hidden;\n  > ","[type=file] {\n    font-size: 100px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0;\n    cursor: pointer;\n    &:disabled {\n      cursor: wait;\n    }\n  }\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n"]),j=r(["\n  padding-left: 20px;\n  width: 100%;\n"],["\n  padding-left: 20px;\n  width: 100%;\n"]),k=r(["\n  position: relative;\n  > svg {\n    position: absolute;\n    top: 12px;\n    left: 12px;\n  }\n  > "," {\n    padding-left: 36px;\n  }\n"],["\n  position: relative;\n  > svg {\n    position: absolute;\n    top: 12px;\n    left: 12px;\n  }\n  > "," {\n    padding-left: 36px;\n  }\n"]),O=r(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]),z=r(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 16px;\n  > "," {\n    margin-bottom: 0;\n    width: 100%;\n    min-width: auto;\n    color: #0064ab;\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 16px;\n  > "," {\n    margin-bottom: 0;\n    width: 100%;\n    min-width: auto;\n    color: #0064ab;\n  }\n"]),C=r(["\n  font-size: 16px;\n  margin-right: 4px;\n  margin-left: 8px;\n"],["\n  font-size: 16px;\n  margin-right: 4px;\n  margin-left: 8px;\n"]),S=r([""],[""]),P=r(["\n  border-radius: 4px;\n  border: 1px solid #bbb;\n  margin-right: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  cursor: pointer;\n  text-decoration: none;\n  display: flex;\n  flex-direction: row;\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n"],["\n  border-radius: 4px;\n  border: 1px solid #bbb;\n  margin-right: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  cursor: pointer;\n  text-decoration: none;\n  display: flex;\n  flex-direction: row;\n  &:hover {\n    background: rgba(0, 0, 0, 0.01);\n  }\n"]),U=r(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 12px;\n"],["\n  display: flex;\n  flex-direction: column;\n  margin: 0 12px;\n"]),I=r(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]),T=r(["\n  font-size: 16px;\n  color: #666;\n"],["\n  font-size: 16px;\n  color: #666;\n"]),A=r(["\n  margin-top: 8px;\n"],["\n  margin-top: 8px;\n"]),_=r(["\n  text-align: center;\n  width: auto;\n  background: #0095ff;\n  color: #fff;\n  margin-top: 32px;\n  padding: 0 64px;\n  &:hover {\n    background: #0585e2;\n  }\n"],["\n  text-align: center;\n  width: auto;\n  background: #0095ff;\n  color: #fff;\n  margin-top: 32px;\n  padding: 0 64px;\n  &:hover {\n    background: #0585e2;\n  }\n"]),R=i.b.div(o),D=i.b.span(a,function(n){return n.size||20}),M=i.b.input(c,function(n){return n.css}),F=i.b.textarea(l,"",function(n){return n.css}),B=i.b.button(u,function(n){return n.css}),L=i.b.div(d),N=B.extend(s),H=i.b.form(p),q=i.b.div(f,function(n){return n.css}),G=M.extend(m),J=F.extend(h),W=i.b.div(g),V=D.extend(x),K=W.extend(b),Q=i.b.div(v),X=i.b.div(w),Y=i.b.img(y),Z=i.b.div(E,G),$=q.extend(j),nn=q.extend(k,G),en=W.extend(O),tn=q.extend(z,G),rn=L.extend(C),on=W.extend(S),an=i.b.a(P);an.Content=i.b.div(U),an.Thumb=i.b.div(I),an.Name=L.extend(T),an.BragText=L.extend(A),on.Card=an;var cn=N.withComponent("input").extend(_)},550:function(n,e,t){"use strict";var r=t(0),i=t.n(r),o=t(2),a=function(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}([""],[""]),c=o.b.svg(a),l=function(n){return i.a.createElement(c,Object.assign({},n,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),i.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))};e.a=l}});
//# sourceMappingURL=8.58f2fe25.chunk.js.map